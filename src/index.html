<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Exploring GitHub Actions </title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container"> 
    <div class="rg_rose"> 
        <h1> Hello, world!</h1>
        <h2> Explorando GitHub <b>Actions</b> </h2>
    </div>

    <div class="rg_grey"> 
        <h3> Esta página foi desenvolvida por Yuri Zaidan  <br> para a disciplina de<b> Gerenciamento e Configuração de Software</b> (2023/2), <br> que é ministrada pelo docente Michael Móra no curso de Engenharia de Software da PUC-RS. </h3>

    </div>

    <div class="rg_white"> 
        <h4> <font size="5"> O que é o GitHub Actions? </font><br><br> O <b>GitHub Actions</b> é uma funcionalidade que permite construir automações no fluxo de trabalho de aplicações <br> geridas pelo GitHub, fazendo com que o processo de integração, desenvolvimento e implantação de um software <br>possa ocorrer de ponta a ponta, dentro do ambiente da ferramenta. <br> <br> De forma sumária, a automação proposta pelo GitHub Actions consiste em um conjunto de tarefas sequenciais <br> que são condicionadas a eventos pré-definidos em um determinado repositório, codificados através de um arquivo <br> do tipo <em> YAML (yet another markup language)</em>. <br> <br> De forma geral, essas tarefas podem ser a execução de um script ou de um teste, envio de notificações, ou até a <br> implantação de  uma nova versão de um software em um ambiente produtivo.  </h4>

    </div>

    <div class="rg_gray"> 
        <h4> <font size="5"> Entendendo o conceito e aplicação de um workflow </font><br><br> <b> Workflows </b> são estruturas de comandos utilizadas para encadear ações baseadas em <b>eventos-chaves</b> ou <b>calendários</b>.<br> Estas instruções são armazenadas em um arquivo do tipo YAML, que deverá ser armazenado no diretório <em>'.github/workflows' </em>. <br><br> Na prática, cada workflow possui um ou mais <em>jobs</em>, e cada job, consiste em um ou mais <em> steps</em>, pensados para a atender<br>a um caso de uso específico - por exemplo, fazer o <em>deploy</em> de um script para um servidor. Vale lembrar que um step pode <br>também ser uma <em>action</em> disponibilizada pela comunidade do GitHub ou terceiros.<br><br> Durante a criação de um workflow, é necessário que se defina um evento-chave ou calendário que, uma vez registrado, <br>  inicialize a execução do workflow, como por exemplo, quando um <em>commit</em> é realizado em uma <em>branch</em> específica, ou até <br> através de um horário específico que foi determinado.  Além de tudo isso, o GitHub permite que o gerenciamento dos <br> workflows seja feito de forma rápida e intuitiva através de um editor visual para criar workflows, e também uma API para <br> integração com outros serviços e ferramentas.   </h4>
    </div>


    <div class="rg_white"> 
        <h4> <font size="5"> Quais os benefícios do GitHub Actions? </font><br><br> Simplificação para criar e gerir workflows<br><br>Integração nativa com o próprio GitHub<br><br>Biblioteca extensa de ações criadas pela comunidade<br><br>Suporte à diferentes plataformas e linguagens<br><br>Segurança e confiabilidade de um recurso do GitHub</h4>

    </div>   

    <div class="rg_gray"> 
        <h4> <font size="5"> Quais são os principais casos de uso para a utilização do GitHub Actions?</font><br><br><em><b>Pensado para CI/CD: </b></em> é possível se beneficiar dos workflows para construir e testar software automaticamente, além<br> de fazer o deploy deste código para ambientes de staging e produção.<br><br><em><b>Testes: </b></em>uma forma de garantir que o teste é executado sempre antes de ser mesclado à branch principal é condicionar <br> este evento a um fluxo de testes. <br><br><em><b>Notificações: </b></em> através da dinâmica entre workflows e eventos-chaves, é possível notificar um time que eventos, como a <br> falha de um teste, de forma programada e escalável.  </h4>
    </div>

    <div class="rg_white_2"> 
            <div class="image-container"> 
                <figure>
                    <img class="img" style="border-radius: 1dvh" src="img/workflow-yml.png" alt="yml workflow">
                    <figcapti on style="font-style: italic; color: gray;">Workflow criado para realizar o deploy desta página para o webhost. </figcaption>
                </figure>

            </div>


    </div>

    <div class="rg_gray_2"> 
        <h4> <font size="5"> Um exemplo prático com o GitHub Actions </font><br><br>
            <em>Um exemplo de aplicação prática do GitHub Actions é a possibilidade de condicionar o processo de deploy de uma <br> aplicação web para um webhost à um evento de push para a branch main do projeto.</em> <br><br>Desta forma, quando todos os membros da equipe entendem que uma funcionalidade ou mais podem ser elevadas<br> à <em> general availability </em>, e realizam o push para a branch principal, é possível relacionar este evento a uma sequência de <br> ações que irão publicar a versão mais recente desta aplicação em sua respectiva hospedagem web.<br><br>  

            Na imagem acima, é possível perceber que esta página possui um folder chamado <em>src</em>, onde estão armazenados a<br> página <em>index.html</em> e o arquivo de estilização <em>style.css</em>. Além dele, um sub-folder chamado <em>workflow</em> (dentro do folder<br> .github) possui um arquivo <em>ci.yml</em>, que será utilizado para compor a estrutura do workflow desta aplicação.<br><br>  
            
            A primeira parte do arquivo do workflow definirá o evento-chave que será utilizado como gatilho para a execução<br> dos jobs que serão inseridos a seguir. No caso deste exemplo, é definido que os jobs serão executados quando ocorrer<br>uma ação de push para a branch main.<br><br>  
            
            Após a definição do evento chave, é iniciado a descrição dos jobs e steps planejados para a automação esperada. <br>Inicialmente, é definido que o job será inicializado em uma <em>máquina linux</em>, e o seu primeiro passo será operacionalizar<br> o <em>checkout</em> do repositório da aplicação, através da action <em>actions/checkoutv@1</em> . Após esta ação, o próximo passo é<br> realizar o deploy com a versão mais recente da aplicada (enviada para a branch main) para o servidor de hospedagem<br> (neste caso, a <em>hostinger</em>). Para este exemplo, foi utilizado um modo de acesso ao servidor web por meio de<br> <em>chaves SSH</em>, com a action <em>easingthemes/ssh-deploy@main</em>.<br><br> Para que este acesso SSL ao servidor web possa ser autenticado, alguns parâmetros precisam ser adicionados nesta etapa:<br><br> 1. <b>'SSH_PRIVATE__KEY'</b>:  chave privada SSH;<br>2. <b>'SOURCE'</b>: diretório com arquivos a serem transferidos para o servidor web;<br> 3.<b>'REMOTE_HOST'</b> : endereço de IP do servidor web;<br>4. <b>'REMOTE_USER'</b>: nome do usuário do servidor web;<br>5. <b>REMOTE_PORT'</b>: porta do servidor,<br>6.<b>'TARGET'</b>: diretório destino para onde serão transferidos os arquivos.<br><br>  

            Vale lembrar que com exceção do valor referente ao parâmetro <em>source</em>, os demais precisam ser adicionados ao GitHub,<br> através da funcionalidade <em> Secrets</em>, dentro das configurações do repositório da aplicação. E por fim, a chave pública SSH<br> também precisa ser adicionada no servidor web utilizado para aplicação, já que as chaves  SSH funcionam no modo chave<br> pública e chave privada (sempre em pares), onde a conexão SFTP/SSH só é autorizada se a chave privada do usuário do<br> computador cliente bater com a chave pública do usuário do servidor.  </h4>

    </div>

    <div class="rg_blue"> 
        <h5> E-mail institucional:<em><br> y.zaidan@edu.pucrs.br</em><br><br></h5>

    <div>

</div>
</body>
</html>